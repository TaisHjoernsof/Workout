<!DOCTYPE html>
<html>
<head>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta charset="UTF-8">
    <title>Workout Tracker</title>
    <style>
        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
        }
        
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 20px;
            color: white;
        }
        
        .screen {
            display: none;
            max-width: 400px;
            margin: 0 auto;
        }
        
        .active {
            display: block;
        }
        
        .header {
            text-align: center;
            margin-bottom: 20px;
            padding-top: 10px;
        }
        
        .header h1 {
            font-size: 2em;
            font-weight: 700;
            margin-bottom: 10px;
            text-shadow: 0 2px 4px rgba(0,0,0,0.3);
        }
        
        .workout-buttons {
            display: flex;
            flex-direction: column;
            gap: 15px;
            margin-top: 30px;
        }
        
        .workout-btn {
            background: rgba(255, 255, 255, 0.15);
            backdrop-filter: blur(10px);
            border: 2px solid rgba(255, 255, 255, 0.2);
            border-radius: 15px;
            padding: 20px;
            color: white;
            font-size: 1.2em;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            text-align: center;
        }
        
        .workout-btn:hover {
            background: rgba(255, 255, 255, 0.25);
            transform: translateY(-2px);
        }
        
        .back-btn {
            background: rgba(255, 255, 255, 0.1);
            border: 1px solid rgba(255, 255, 255, 0.3);
            border-radius: 10px;
            padding: 12px 20px;
            color: white;
            font-size: 1em;
            cursor: pointer;
            margin-top: 20px;
            width: 100%;
        }
        
        .exercise-panel {
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(10px);
            border-radius: 15px;
            padding: 20px;
            margin-bottom: 15px;
        }
        
        .exercise-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 15px;
        }
        
        .exercise-name {
            font-size: 1.2em;
            font-weight: 600;
        }
        
        .sets-control {
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .sets-control input {
            width: 50px;
            padding: 5px;
            border: none;
            border-radius: 5px;
            text-align: center;
        }
        
        .sets-container {
            display: grid;
            grid-template-columns: 1fr;
            gap: 8px;
        }
        
        .set-header {
            display: grid;
            grid-template-columns: 50px 1fr 1fr;
            gap: 10px;
            align-items: center;
            margin-bottom: 5px;
            padding: 0 5px;
        }
        
        .set-header-label {
            font-weight: 600;
            font-size: 0.9em;
            opacity: 0.8;
            text-align: center;
        }
        
        .set-row {
            display: grid;
            grid-template-columns: 50px 1fr 1fr;
            gap: 10px;
            align-items: center;
        }
        
        .set-label {
            font-weight: 600;
            font-size: 0.9em;
            text-align: center;
        }
        
        .set-input {
            padding: 8px;
            border: none;
            border-radius: 8px;
            background: rgba(255, 255, 255, 0.9);
            text-align: center;
            width: 100%;
        }
        
        .save-workout-btn {
            background: rgba(76, 175, 80, 0.8);
            border: none;
            border-radius: 10px;
            padding: 15px;
            color: white;
            font-size: 1.1em;
            font-weight: 600;
            cursor: pointer;
            width: 100%;
            margin-top: 20px;
        }
        
        .save-workout-btn:active {
            background: rgba(76, 175, 80, 1);
        }
    </style>
</head>
<body>
    <!-- Screen 1: Workout Selection -->
    <div id="screen-choose" class="screen active">
        <div class="header">
            <h1>Choose Workout</h1>
            <p>Select your focus area</p>
        </div>
        
        <div class="workout-buttons">
            <button class="workout-btn" onclick="showScreen('screen-arms')">
                Arms & Shoulders
            </button>
            <button class="workout-btn" onclick="showScreen('screen-chest')">
                Chest & Core
            </button>
            <button class="workout-btn" onclick="showScreen('screen-legs')">
                Legs
            </button>
        </div>
    </div>

    <!-- Screen 2: Arms & Shoulders Workout -->
    <div id="screen-arms" class="screen">
        <div class="header">
            <h1>Arms & Shoulders</h1>
            <p>Track your sets and reps</p>
        </div>
        
        <div id="arms-exercises-container">
            <!-- Exercises will be generated here -->
        </div>
        
        <button class="save-workout-btn" onclick="saveWorkout('arms')">Save Workout</button>
        <button class="back-btn" onclick="showScreen('screen-choose')">< Back to Workouts</button>
    </div>

    <!-- Screen 3: Chest & Core Workout -->
    <div id="screen-chest" class="screen">
        <div class="header">
            <h1>Chest & Core</h1>
            <p>Track your sets and reps</p>
        </div>
        
        <div id="chest-exercises-container">
            <!-- Exercises will be generated here -->
        </div>
        
        <button class="save-workout-btn" onclick="saveWorkout('chest')">Save Workout</button>
        <button class="back-btn" onclick="showScreen('screen-choose')">< Back to Workouts</button>
    </div>

    <!-- Screen 4: Legs Workout -->
    <div id="screen-legs" class="screen">
        <div class="header">
            <h1>Legs</h1>
            <p>Track your sets and reps</p>
        </div>
        
        <div id="legs-exercises-container">
            <!-- Exercises will be generated here -->
        </div>
        
        <button class="save-workout-btn" onclick="saveWorkout('legs')">Save Workout</button>
        <button class="back-btn" onclick="showScreen('screen-choose')">< Back to Workouts</button>
    </div>

    <script>
        // Exercise definitions for each workout type
        const workoutExercises = {
            arms: [
                "DB - Shoulder Press",
                "DB - Shoulder Raise", 
                "DB - Rear Delt Row",
                "DB - Tricep Extension",
                "DB - Curl",
                "DB - Concentration Curl",
                "DB - Hammer Curl",
                "DB - Wrist Curl",
                "DB - Reverse Wrist Curl"
            ],
            chest: [
                "DB - Bench Press",
                "DB - Incline Press",
                "DB - Bent-Over Row",
                "DB - Shrug",
                "Lying Leg Raise",
                "Sit-Up",
                "Twisting Sit-Up",
            ],
            legs: [
                "BB - Deadlift",
                "BB - Squat",
                "BB - Straight-Leg Deadlift",
                "DB - Standing Calf Raise",
                "DB - Reverse Calf Raise"
            ]
        };

        // Default workout data structure
        let defaultWorkoutData = {
            arms: {},
            chest: {},
            legs: {}
        };

        // Current workout data
        let currentWorkoutData = JSON.parse(JSON.stringify(defaultWorkoutData));

        // Initialize the app
        function initApp() {
            loadDefaultData();
            initializeWorkoutScreens();
        }

        // Load default data from localStorage
        function loadDefaultData() {
            const savedData = localStorage.getItem('workoutDefaults');
            if (savedData) {
                defaultWorkoutData = JSON.parse(savedData);
                
                // Ensure all current exercises exist in the loaded data
                Object.keys(workoutExercises).forEach(workoutType => {
                    workoutExercises[workoutType].forEach(exercise => {
                        if (!defaultWorkoutData[workoutType][exercise]) {
                            defaultWorkoutData[workoutType][exercise] = {
                                sets: 3,
                                reps: Array(3).fill(8),
                                weight: Array(3).fill(0)
                            };
                        }
                    });
                });
                
                currentWorkoutData = JSON.parse(JSON.stringify(defaultWorkoutData));
                saveDefaultData(); // Save the updated data with new exercises
            } else {
                // Initialize with default values for all exercises
                Object.keys(workoutExercises).forEach(workoutType => {
                    workoutExercises[workoutType].forEach(exercise => {
                        defaultWorkoutData[workoutType][exercise] = {
                            sets: 3,
                            reps: Array(3).fill(8),
                            weight: Array(3).fill(0)
                        };
                    });
                });
                currentWorkoutData = JSON.parse(JSON.stringify(defaultWorkoutData));
                saveDefaultData();
            }
        }

        // Save default data to localStorage
        function saveDefaultData() {
            localStorage.setItem('workoutDefaults', JSON.stringify(defaultWorkoutData));
        }

        // Initialize workout screens with exercises
        function initializeWorkoutScreens() {
            Object.keys(workoutExercises).forEach(workoutType => {
                const container = document.getElementById(`${workoutType}-exercises-container`);
                container.innerHTML = '';
                
                workoutExercises[workoutType].forEach(exercise => {
                    const exercisePanel = createExercisePanel(workoutType, exercise);
                    container.appendChild(exercisePanel);
                });
            });
        }

        // Create exercise panel with sets
        function createExercisePanel(workoutType, exerciseName) {
            const panel = document.createElement('div');
            panel.className = 'exercise-panel';
            
            const exerciseData = currentWorkoutData[workoutType][exerciseName];
            const setsCount = exerciseData.sets || 3;
            
            panel.innerHTML = `
                <div class="exercise-header">
                    <div class="exercise-name">${exerciseName}</div>
                    <div class="sets-control">
                        <span>Sets:</span>
                        <input type="number" 
                               value="${setsCount}" 
                               min="1" 
                               max="10"
                               onchange="updateSets('${workoutType}', '${exerciseName}', this.value)">
                    </div>
                </div>
                <div class="sets-container" id="sets-${workoutType}-${exerciseName.replace(/\s+/g, '-')}">
                    ${generateSetInputs(workoutType, exerciseName, setsCount)}
                </div>
            `;
            
            return panel;
        }

        // Generate set inputs based on number of sets
        function generateSetInputs(workoutType, exerciseName, setsCount) {
            const exerciseData = currentWorkoutData[workoutType][exerciseName];
            let html = '';
            
            // Add header row with column labels
            html += `
                <div class="set-header">
                    <div class="set-header-label">Set</div>
                    <div class="set-header-label">Reps</div>
                    <div class="set-header-label">Weight</div>
                </div>
            `;
            
            for (let i = 0; i < setsCount; i++) {
                const repValue = exerciseData.reps && exerciseData.reps[i] !== undefined ? exerciseData.reps[i] : 8;
                const weightValue = exerciseData.weight && exerciseData.weight[i] !== undefined ? exerciseData.weight[i] : 0;
                
                html += `
                    <div class="set-row">
                        <div class="set-label">${i + 1}</div>
                        <input type="number" 
                               class="set-input" 
                               placeholder="Reps" 
                               value="${repValue}"
                               onchange="updateExerciseData('${workoutType}', '${exerciseName}', ${i}, 'reps', this.value)">
                        <input type="number" 
                               class="set-input" 
                               placeholder="Weight" 
                               value="${weightValue}"
                               onchange="updateExerciseData('${workoutType}', '${exerciseName}', ${i}, 'weight', this.value)">
                    </div>
                `;
            }
            return html;
        }

        // Update number of sets for an exercise
        function updateSets(workoutType, exerciseName, newSetCount) {
            newSetCount = parseInt(newSetCount);
            if (newSetCount < 1) newSetCount = 1;
            if (newSetCount > 10) newSetCount = 10;
            
            const exerciseData = currentWorkoutData[workoutType][exerciseName];
            const currentSets = exerciseData.sets || 3;
            
            // Initialize arrays if they don't exist
            if (!exerciseData.reps) exerciseData.reps = Array(currentSets).fill(8);
            if (!exerciseData.weight) exerciseData.weight = Array(currentSets).fill(0);
            
            // Resize arrays to match new set count
            if (newSetCount > currentSets) {
                // Add new sets with default values
                for (let i = currentSets; i < newSetCount; i++) {
                    exerciseData.reps[i] = 8;
                    exerciseData.weight[i] = 0;
                }
            } else if (newSetCount < currentSets) {
                // Remove extra sets
                exerciseData.reps = exerciseData.reps.slice(0, newSetCount);
                exerciseData.weight = exerciseData.weight.slice(0, newSetCount);
            }
            
            exerciseData.sets = newSetCount;
            
            // Update the UI
            const setsContainer = document.getElementById(`sets-${workoutType}-${exerciseName.replace(/\s+/g, '-')}`);
            setsContainer.innerHTML = generateSetInputs(workoutType, exerciseName, newSetCount);
        }

        // Update exercise data when inputs change
        function updateExerciseData(workoutType, exerciseName, setIndex, field, value) {
            const exerciseData = currentWorkoutData[workoutType][exerciseName];
            
            if (!exerciseData[field]) {
                exerciseData[field] = [];
            }
            
            exerciseData[field][setIndex] = field === 'reps' || field === 'weight' ? parseInt(value) || 0 : value;
        }

        // Screen navigation
        function showScreen(screenId) {
            // Hide all screens
            document.querySelectorAll('.screen').forEach(screen => {
                screen.classList.remove('active');
            });
            
            // Show the selected screen
            document.getElementById(screenId).classList.add('active');
            
            // Reload the workout data when showing a workout screen
            if (screenId.includes('screen-') && !screenId.includes('choose')) {
                const workoutType = screenId.replace('screen-', '');
                loadWorkoutData(workoutType);
            }
        }

        // Load workout data for a specific type
        function loadWorkoutData(workoutType) {
            currentWorkoutData[workoutType] = JSON.parse(JSON.stringify(defaultWorkoutData[workoutType]));
            initializeWorkoutScreens();
        }

        // Save workout to localStorage
        function saveWorkout(workoutType) {
            const workoutName = {
                arms: 'Arms & Shoulders',
                chest: 'Chest & Core',
                legs: 'Legs'
            }[workoutType];
            
            const workout = {
                date: new Date().toISOString(),
                type: workoutName,
                exercises: currentWorkoutData[workoutType]
            };
            
            // Save to workout history
            const workouts = JSON.parse(localStorage.getItem('workouts') || '[]');
            workouts.push(workout);
            localStorage.setItem('workouts', JSON.stringify(workouts));
            
            // Update defaults with current values for next time
            defaultWorkoutData[workoutType] = JSON.parse(JSON.stringify(currentWorkoutData[workoutType]));
            saveDefaultData();
            
            alert('Workout saved! Your settings are remembered for next time.');
            showScreen('screen-choose');
        }

        // Initialize the app when loaded
        window.onload = initApp;
    </script>
</body>
</html>